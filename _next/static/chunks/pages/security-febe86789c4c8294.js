(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{2702:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/security",function(){return a(4129)}])},4129:function(e,t,a){"use strict";a.r(t),a.d(t,{__toc:function(){return c}});var n=a(5893),s=a(2673),i=a(2169),r=a(6595);a(9488);var o=a(2643),l=a(2154);let c=[{depth:2,value:"Database",id:"database"},{depth:2,value:"Sensitive data management",id:"sensitive-data-management"},{depth:2,value:"File Storage",id:"file-storage"},{depth:2,value:"Code base",id:"code-base"},{depth:2,value:"User/Admin Accounts",id:"useradmin-accounts"},{depth:2,value:"References",id:"references"},{depth:3,value:"Firebase Authentication",id:"firebase-authentication"},{depth:3,value:"Database",id:"database-1"},{depth:3,value:"Online Storage",id:"online-storage"}];function d(e){let t=Object.assign({h1:"h1",p:"p",strong:"strong",a:"a",h2:"h2",ol:"ol",li:"li",ul:"ul",em:"em",h3:"h3"},(0,o.a)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{children:"Security Guidelines"}),"\n",(0,n.jsx)(t.p,{children:"ACAP adheres to strict security practices as defined by its technology stack, starting from its initial 1.0 version. When extending ACAP to add or enhance features, please ensure continued compliance with these security standards."}),"\n",(0,n.jsx)(l.UW,{type:"error",emoji:"☠️",children:(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"NOTE:"})," Further enhancements and feature updates to the initial ",(0,n.jsx)(t.a,{href:"/changelog/#version-1-acap-10",children:(0,n.jsx)(t.strong,{children:"ACAP 1.0"})})," version may introduce new requirements to address additional use cases. Please ensure that security measures meet the expectations outlined in these new requirements."]})}),"\n",(0,n.jsx)(t.h2,{id:"database",children:"Database"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Manually test and ensure using the ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/quickstart",children:"Firestore Web API"})," and ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/use-rest-api",children:"Firestore REST APIs"})," that:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["(a) Signed-in users cannot perform ",(0,n.jsx)(t.strong,{children:"CREATE/EDIT/DELETE"})," operations in the Firestore collections and documents defined in the Firestore Rules.","\n",(0,n.jsx)(l.UW,{type:"warning",children:(0,n.jsxs)(t.p,{children:["NOTE: If there is a need to perform ",(0,n.jsx)(t.strong,{children:"CREATE/EDIT/DELETE"})," operations ",(0,n.jsx)(t.em,{children:(0,n.jsx)(t.strong,{children:'"directly"'})})," in the Firestore collections or documents using the ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/quickstart",children:"Firestore Web API"})," or ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/use-rest-api",children:"Firestore REST APIs"}),", please ensure the creation and testing of robust, new ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/security/get-started",children:"Firestore Rules"}),' that will meet the "new" requirements (ACAP ',(0,n.jsx)("span",{className:"text-xl font-bold text-red-600",children:"1.0"})," only performs such operations thru the ",(0,n.jsx)(t.a,{href:"/directories/server",children:"backend NodeJS REST APIs"}),", ",(0,n.jsx)(t.strong,{children:"Database #2"}),", ",(0,n.jsx)(t.strong,{children:"Database #3"}),"). This ensures manageable security and safety, preventing security breaches like the cross-site scripting (XSS) attack example detailed ",(0,n.jsx)(t.a,{href:"https://www.youtube.com/watch?v=b9UZ6_OCTaY",children:"here"}),"."]})}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["(b) Signed-in users cannot ",(0,n.jsx)(t.strong,{children:"CREATE"})," new Firestore collections and documents"]}),"\n",(0,n.jsxs)(t.li,{children:["(c) Public users without sign-in authentication cannot ",(0,n.jsx)(t.strong,{children:"VIEW"})," sensitive information such as phonebook contacts and email information"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Ensure that all mutative ",(0,n.jsx)(t.strong,{children:'"WRITE"'})," operations in the Firestore database occur only through authenticated HTTPS requests in the backend (NodeJS) REST APIs. ",(0,n.jsxs)(t.em,{children:["(see also ",(0,n.jsx)(t.a,{href:"/directories/server",children:"Server"})," for more information)."]})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["(a) ACAP 1.0's Firestore Rules strictly prohibits ",(0,n.jsx)(t.strong,{children:"Database #1.a"})," and ",(0,n.jsx)(t.strong,{children:"Database #1.b"})," to enforce this."]}),"\n",(0,n.jsxs)(t.li,{children:["(b) If new requirements allow item ",(0,n.jsx)(t.strong,{children:"Database #1.a"}),' to "directly" perform ',(0,n.jsx)(t.strong,{children:"CREATE/EDIT/DELETE"})," operations in Firestore collections or documents using the ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/quickstart",children:"Firestore Web API"})," or ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/use-rest-api",children:"Firestore REST APIs"}),", please ensure that ",(0,n.jsx)(t.em,{children:(0,n.jsx)(t.strong,{children:'"new"'})})," and robust ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/security/get-started",children:"Firestore Rules"})," are created and thoroughly tested. These Rules may need to be separate from ACAP ",(0,n.jsx)("span",{className:"text-xl font-bold text-red-600",children:"1.0"}),", which ",(0,n.jsx)(t.em,{children:'"discourages this approach unless Firestore Rules can be properly enforced"'}),"."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Ensure proper server-side validation when mutating data through the backend (NodeJS) REST APIs using\xa0",(0,n.jsx)(t.strong,{children:"validation scripts"})," in ",(0,n.jsx)(t.em,{children:"middleware"})," or the\xa0",(0,n.jsx)(t.em,{children:"controller"}),"\xa0scripts."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Firestore database security relies on properly tested Firestore Rules to ensure security, especially if its rules do not disable all ",(0,n.jsx)(t.strong,{children:"VIEW/CREATE/EDIT/DELETE"})," operations."]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:'Please ensure that "new" and robust Firestore Rules are created and thoroughly tested, in case new database components or requirements need to be added to the ACAP 1.0 Firestore database.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"sensitive-data-management",children:"Sensitive data management"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Ensure that sensitive data and environment variables are never statically generated and deployed to the GitHub Pages or Firebase Hosting static hosting websites."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Sensitive data, secured with Firebase Authentication, Firebase Custom Claims (",(0,n.jsx)(t.strong,{children:"User/Admin Accounts #1, #2"}),") and Firestore Rules (",(0,n.jsx)(t.strong,{children:"Database #1.c"}),") is dynamically fetched from the Firestore Database using the Firestore Web APIs or the secure (NodeJS) REST APIs."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"file-storage",children:"File Storage"}),"\n",(0,n.jsx)(t.p,{children:"Manually test and ensure, using the Firebase Storage Web APIs, that:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:'Public and signed-in users can only "READ" or download the PDF bulletin files.'}),"\n",(0,n.jsx)(t.li,{children:"Public and signed-in users cannot UPLOAD or DELETE files."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"code-base",children:"Code base"}),"\n",(0,n.jsx)(t.p,{children:"Ensure that the forked climate-services-webportal-v1 (ACAP 1.0) or acap-v2 (ACAP 2.0) monorepo code base remains PRIVATE in GitHub."}),"\n",(0,n.jsx)(t.h2,{id:"useradmin-accounts",children:"User/Admin Accounts"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Ensure that Admin accounts are created by the superadmin in the NodeJS backend using ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/auth/",children:"Firebase Authentication"})," with ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/auth/admin/custom-claims",children:"Firebase Custom Claims"}),", leveraging the ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/admin/setup",children:"Firebase Admin SDK"})," to ensure maximum security."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["More information about ACAP 1.0's Security requirements are available in its Software Requirements Specifications document available in this ",(0,n.jsx)(t.a,{href:"https://github.com/amia-cis/acap-v2/blob/dev/docs/acap_1.0_software_requirements_specification_v4.0.pdf",children:"link"})," (accessible only for developers with access)."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,n.jsx)(t.h3,{id:"firebase-authentication",children:"Firebase Authentication"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Firebase Authentication ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/auth/",children:"[link]"})]}),"\n",(0,n.jsxs)(t.li,{children:["Firebase Custom Claims ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/auth/admin/custom-claims",children:"[link]"})]}),"\n",(0,n.jsxs)(t.li,{children:["Firebase Admin SDK ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/admin/setup",children:"[link]"})]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"database-1",children:"Database"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Firestore Web API ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/quickstart",children:"[link]"})]}),"\n",(0,n.jsxs)(t.li,{children:["Firestore REST APIs ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/use-rest-api",children:"[link]"})]}),"\n",(0,n.jsxs)(t.li,{children:["Firestore Rules ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/firestore/security/get-started",children:"[link]"})]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"online-storage",children:"Online Storage"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Firebase Storage Web APIs ",(0,n.jsx)(t.a,{href:"https://firebase.google.com/docs/storage/web/upload-files",children:"[link]"})]}),"\n"]})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,o.a)(),e.components);return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)},pageOpts:{filePath:"pages/security.mdx",route:"/security",timestamp:1723661055e3,pageMap:[{kind:"Meta",data:{index:"Introduction",requirements:"Requirements",installation:"Installation and Setup","post-installation":"Post-Installation Setup",checklist:"Checklist",security:"Security","---":{type:"separator"},directories:{title:"Folder Structure"},articles:{title:"Articles"},troubleshooting:"Troubleshooting",video:{title:"Video Tutorials",type:"page"},showcase:{title:"Showcase",type:"page"},about:{title:"About",type:"page"},references:"References","----":{type:"separator"},changelog:"Change Log"}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"articles",route:"/articles",children:[{kind:"Meta",data:{deployment:"Deployment","pdf-development":"PDF Development"}},{kind:"MdxPage",name:"deployment",route:"/articles/deployment"},{kind:"MdxPage",name:"pdf-development",route:"/articles/pdf-development"}]},{kind:"MdxPage",name:"changelog",route:"/changelog"},{kind:"MdxPage",name:"checklist",route:"/checklist"},{kind:"Folder",name:"directories",route:"/directories",children:[{kind:"Meta",data:{client:"Client",server:"Server"}},{kind:"MdxPage",name:"client",route:"/directories/client"},{kind:"MdxPage",name:"server",route:"/directories/server"}]},{kind:"MdxPage",name:"directories",route:"/directories"},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"installation",route:"/installation",children:[{kind:"Meta",data:{firebase:"Firebase Initialization","server-setup":"Server Setup","client-setup":"Client Setup",integration:"Integration",accounts:"Accounts",conclusion:"Conclusion"}},{kind:"MdxPage",name:"accounts",route:"/installation/accounts"},{kind:"MdxPage",name:"client-setup",route:"/installation/client-setup"},{kind:"MdxPage",name:"conclusion",route:"/installation/conclusion"},{kind:"MdxPage",name:"firebase",route:"/installation/firebase"},{kind:"MdxPage",name:"integration",route:"/installation/integration"},{kind:"MdxPage",name:"server-setup",route:"/installation/server-setup"}]},{kind:"MdxPage",name:"installation",route:"/installation"},{kind:"Folder",name:"post-installation",route:"/post-installation",children:[{kind:"Meta",data:{webmap:"Web Map / AMIA Villages",pdf:"PDF Bulletins","weather-forecasts":"PAGASA Weather Forecasts","cropping-calendar":"Cropping Calendar",recommendations:"Recommendations Dataset","acap-rcmas-api":"ACAP-RCMAS REST APIs",opengraph:"Opengraph Settings","google-search":"Google Search Console"}},{kind:"MdxPage",name:"acap-rcmas-api",route:"/post-installation/acap-rcmas-api"},{kind:"Folder",name:"cropping-calendar",route:"/post-installation/cropping-calendar",children:[{kind:"Meta",data:{"calendar-v1":"ACAP 1.0 Cropping Calendar","calendar-v2":"ACAP 2.0 Cropping Calendar"}},{kind:"MdxPage",name:"calendar-v1",route:"/post-installation/cropping-calendar/calendar-v1"},{kind:"MdxPage",name:"calendar-v2",route:"/post-installation/cropping-calendar/calendar-v2"}]},{kind:"MdxPage",name:"cropping-calendar",route:"/post-installation/cropping-calendar"},{kind:"MdxPage",name:"google-search",route:"/post-installation/google-search"},{kind:"MdxPage",name:"opengraph",route:"/post-installation/opengraph"},{kind:"MdxPage",name:"pdf",route:"/post-installation/pdf"},{kind:"Folder",name:"recommendations",route:"/post-installation/recommendations",children:[{kind:"Meta",data:{"recommendations-v1":"ACAP 1.0 Recommendations","recommendations-v2":"ACAP 2.0 Recommendations"}},{kind:"MdxPage",name:"recommendations-v1",route:"/post-installation/recommendations/recommendations-v1"},{kind:"MdxPage",name:"recommendations-v2",route:"/post-installation/recommendations/recommendations-v2"}]},{kind:"MdxPage",name:"recommendations",route:"/post-installation/recommendations"},{kind:"Folder",name:"weather-forecasts",route:"/post-installation/weather-forecasts",children:[{kind:"Meta",data:{"seasonal-forecast":"Seasonal Forecast","tenday-forecast":"10-Day Forecast","special-forecast":"Special Forecast"}},{kind:"MdxPage",name:"seasonal-forecast",route:"/post-installation/weather-forecasts/seasonal-forecast"},{kind:"MdxPage",name:"special-forecast",route:"/post-installation/weather-forecasts/special-forecast"},{kind:"MdxPage",name:"tenday-forecast",route:"/post-installation/weather-forecasts/tenday-forecast"}]},{kind:"MdxPage",name:"weather-forecasts",route:"/post-installation/weather-forecasts"},{kind:"MdxPage",name:"webmap",route:"/post-installation/webmap"}]},{kind:"MdxPage",name:"post-installation",route:"/post-installation"},{kind:"MdxPage",name:"references",route:"/references"},{kind:"MdxPage",name:"requirements",route:"/requirements"},{kind:"MdxPage",name:"security",route:"/security"},{kind:"MdxPage",name:"showcase",route:"/showcase"},{kind:"MdxPage",name:"troubleshooting",route:"/troubleshooting"},{kind:"MdxPage",name:"video",route:"/video"}],flexsearch:{codeblocks:!0},title:"Security Guidelines",headings:c},pageNextRoute:"/security",nextraLayout:i.ZP,themeConfig:r.Z};t.default=(0,s.j)(h)},6595:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=a(5893),s=a(1163),i=a(2169),r=a(5675),o=a.n(r),l={logo:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{src:"/images/logos/logo-acaptutorials.png",width:"24",height:"24",alt:"logo"}),"\xa0",(0,n.jsx)("span",{children:"ACAP Development Docs"})]}),project:{link:"https://github.com/acaptutorials/acaptutorials.github.io"},docsRepositoryBase:"https://github.com/acaptutorials/acaptutorials.github.io/tree/dev/docs",useNextSeoProps:()=>({titleTemplate:"ACAP Tutorials - %s"}),head:function(){let{asPath:e,defaultLocale:t,locale:a}=(0,s.useRouter)(),{frontMatter:r}=(0,i.ZR)(),o="ACAP Tutorials",l="https://acaptutorials.github.io"+(t===a?e:"/".concat(a).concat(e));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"keywords",content:"acap, acap tutorials, acap-tutorials, acap dev, acap dev tutorials, acap bicol, acap-bicol, acap 1.0, acap 2.0, acap requirements, acap installation, acap changelog, acap installation and setup, acap post-installation, acap checklist, acap security, acap security guidelines, acap folder structure, acap troubleshooting, acap references, acap firebase, acap-bicol, da, amia, department of agriculture, adoptation and mitigation initiative in agriculture, rfo5, bicol, regional field office 5, resilient agriculture, agro-climatic advisory portal, agro climatic advisory portal"}),(0,n.jsx)("meta",{property:"og:url",content:l}),(0,n.jsx)("meta",{property:"og:title",content:r.title||o}),(0,n.jsx)("meta",{property:"og:description",content:r.description||"Development notes"}),(0,n.jsx)("meta",{property:"og:site_name",content:o}),(0,n.jsx)("meta",{property:"og:image",content:"https://firebasestorage.googleapis.com/v0/b/assets-cms.appspot.com/o/users%2FAwryJ0MU8zdxQFh9y0L0x2sSt8z1%2FuPnwyOrhmzVvbwQ6Cizy_thumbnail?alt=media&token=e04950f1-be4f-4d95-b8ee-d4c794b512bf"}),(0,n.jsx)("meta",{property:"og:image:width",content:"1200"}),(0,n.jsx)("meta",{property:"og:image:height",content:"630"}),(0,n.jsx)("meta",{property:"og:image:alt",content:o}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:title",content:o}),(0,n.jsx)("meta",{name:"twitter:image",content:"https://firebasestorage.googleapis.com/v0/b/assets-cms.appspot.com/o/users%2FAwryJ0MU8zdxQFh9y0L0x2sSt8z1%2FuPnwyOrhmzVvbwQ6Cizy_thumbnail?alt=media&token=e04950f1-be4f-4d95-b8ee-d4c794b512bf"}),(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,n.jsx)("link",{rel:"manifest",href:"/site.webmanifest"})]})},banner:{key:"v10.1.0-alpha.9",text:(0,n.jsx)(function(){return(0,n.jsxs)("a",{href:"https://github.com/amia-cis/acap-v2/releases/tag/v10.1.0-alpha.9",target:"_blank",rel:"noreferrer",children:["\uD83C\uDF89 ","v10.1.0-alpha.9",", dev branch @","ee803d8"," is released. Read more →"]})},{})},sidebar:{defaultMenuCollapseLevel:1},footer:{text:(0,n.jsxs)("span",{children:["ACAP Dev Documentation ",new Date().getFullYear()," \xa9"," ",(0,n.jsx)("a",{href:"https://github.com/acaptutorials",target:"_blank",rel:"noreferrer",children:"acaptutorials"})]})}}},5789:function(){}},function(e){e.O(0,[942,888,774,179],function(){return e(e.s=2702)}),_N_E=e.O()}]);